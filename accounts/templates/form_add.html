{% extends "base.html" %}

{% block content %}
    <h2>Add New Referee</h2>

    <form method="POST">
        {% csrf_token %}

        {% if form.non_field_errors %}
            <div class="alert alert-danger">
                {{ form.non_field_errors }}
            </div>
        {% endif %}

        <div class="form-group row">
            <label for="{{ form.name.id_for_label }}" class="col-sm-2 col-form-label">First Name:</label>
            <div class="col-sm-10">
                <input type="text" name="name" id="{{ form.name.id_for_label }}" class="form-control form-control-sm" style="width: 200px;" value="{{ form.name.value|default:'' }}">
                {{ form.name.errors }}
            </div>
        </div>

        <div class="form-group row">
            <label for="{{ form.surname.id_for_label }}" class="col-sm-2 col-form-label">Last Name:</label>
            <div class="col-sm-10">
                <input type="text" name="surname" id="{{ form.surname.id_for_label }}" class="form-control form-control-sm" style="width: 200px;" value="{{ form.surname.value|default:'' }}">
                {{ form.surname.errors }}
            </div>
        </div>

        <div class="form-group row">
            <label for="{{ form.licence_number.id_for_label }}" class="col-sm-2 col-form-label">Licence Number:</label>
            <div class="col-sm-10">
                <input type="text" name="licence_number" id="{{ form.licence_number.id_for_label }}" class="form-control form-control-sm" style="width: 200px;" value="{{ form.licence_number.value|default:'' }}" pattern="\d*">
                {{ form.licence_number.errors }}
            </div>
        </div>

        <div class="form-group row">
        <label for="{{ form.licence_type.id_for_label }}" class="col-sm-2 col-form-label">Licence Type:</label>
        <div class="col-sm-10">
            <select name="licence_type" id="{{ form.licence_type.id_for_label }}" class="form-control form-control-sm" style="width: 200px;">
                {% for choice in form.licence_type.field.choices %}
                    <option value="{{ choice.0 }}" {% if form.licence_type.value == choice.0 or referee.licence_type == choice.0 %}selected{% endif %}>
                        {{ choice.1 }}
                    </option>
                {% endfor %}
            </select>
            {{ form.licence_type.errors }}
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ form.city.id_for_label }}" class="col-sm-2 col-form-label">City:</label>
        <div class="col-sm-10">
            <select name="city" id="{{ form.city.id_for_label }}" class="form-control form-control-sm" style="width: 200px;">
                {% for choice in form.city.field.choices %}
                    <option value="{{ choice.0 }}" {% if form.city.value == choice.0 or referee.city.id == choice.0 %}selected{% endif %}>
                        {{ choice.1 }}
                    </option>
                {% endfor %}
            </select>
            {{ form.city.errors }}
        </div>
    </div>

        <div class="form-group row">
            <label for="{{ form.rating.id_for_label }}" class="col-sm-2 col-form-label">Rating:</label>
            <div class="col-sm-10">
                <input type="text" name="rating" id="{{ form.rating.id_for_label }}" class="form-control form-control-sm" style="width: 200px;" value="{{ form.rating.value|default:'' }}" pattern="\d*">
                {{ form.rating.errors }}
            </div>
        </div>

        <div class="form-group row">
            <label for="{{ form.phone.id_for_label }}" class="col-sm-2 col-form-label">Phone:</label>
            <div class="col-sm-10">
                <input type="text" name="phone" id="{{ form.phone.id_for_label }}" class="form-control form-control-sm" style="width: 200px;" value="{{ form.phone.value|default:'' }}">
                {{ form.phone.errors }}
            </div>
        </div>

        <div class="form-group row">
            <label for="{{ form.email.id_for_label }}" class="col-sm-2 col-form-label">E-mail:</label>
            <div class="col-sm-10">
                <input type="email" name="email" id="{{ form.email.id_for_label }}" class="form-control form-control-sm" style="width: 200px;" value="{{ form.email.value|default:'' }}">
                {{ form.email.errors }}
            </div>
        </div>

        <div class="form-group text-right">
            <button type="submit" class="btn btn-primary btn-lg">Save</button>
        </div>
    </form>
{% endblock %}